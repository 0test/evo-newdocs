Используя роли, группы документов и связь между пользователями и группами документов, вы можете контролировать каждый аспект управления вашим сайтом.

## Прежде чем вы начнете

Убедитесь, что в разделе «Конфигурация системы» на вкладке «Пользователи» для параметра «Использовать права доступа» установлено значение «Да»

## Терминология

Для дальнейшего понимания давайте договоримся о терминах:

*   Документ - основной элемент («страница») в Evolution CMS. Каждый документ может быть в одной или нескольких группах документов.
*   Группа документов - все документы, которые по какой-либо причине помещаются в одну группу. Например, это могут быть разделы сайта (продукты, портфолио или сервисы). Группа документов может быть связана с одной или несколькими группами пользователей.
*   Пользователь - объект, содержащий информацию о конкретном пользователе, такую как имя, пароль и т.д.  
    Каждый пользователь может быть в любом количестве групп, но при этом его роль может быть только одна - администратор, редактор и т.д. Разрешения для пользователей определяются его ролью.
*   Роль. Как уже упоминалось, роль определяет разрешения для пользователя, которому назначена эта роль.
*   Группа пользователей - пользователи, которым необходим доступ к тем же группам документов. Группа пользователей может быть связана с одной или несколькими группам документов.

Как все это работает вместе? Роли определяют, что пользователю разрешено делать, а группы пользователей в сочетании с группами документов определяют, с какими документами может работать пользователь.

Предположим, у вас есть сайт для распространения программного обеспечения, которое поддерживает ваша компания. Вы решили, что сайт будет выглядеть так:

*   Главная
*   Новости
*   Продукты
    *   Игры
    *   Графические утилиты
    *   Управление проектом
*   Поддержка
    *   Вопросы-Ответы
    *   Форумы
    *   Контакты
    *   Чат поддержки
*   О нас
    *   Наша история
    *   Наша философия
    *   Наши люди

## Роли

Для примера нам понадобятся эти роли:

*   Администраторы сайта - будут управлять пользователями и общей конфигурацией сайта.
*   Разработчики - будут писать код и работать с модулями, плагинами, сниппетами чанками и тв-параметрами
*   Дизайнеры - будут отвечать за внешний вид и расположение страниц сайта. Будет работать с шаблонами, чанками и CSS.
*   Редакторы контента - будут отвечать за содержание страниц. Будет работать с документами.
*   Корректоры - смогут редактировать, но не смогут создавать и удалять документы.

## Группы документов

Рассмотрим, как будут группироваться документы на сайте.

*   Корпоративные - страницы, относящиеся к компании в целом, такие как страницы «О нас» и Главная страница.
*   Продукт - страницы, посвященные отдельным продуктам.
*   Поддержка - страницы, содержащие списки часто задаваемых вопросов или контактную информацию компании.

## Группы пользователей

Группы пользователей, к которым будут принадлежать пользователи:

*   Маркетинг - будет обрабатывать корпоративные страницы
*   Продукты - будут работать со страницами, относящимися к продуктам компании.
*   Поддержка - позаботятся о страницах поддержки.
*   Корректоры - будут иметь доступ ко всем документам (но они будут ограничены разрешениями, предоставленными своей ролью).

### Важная заметка

Пользователь может принадлежать любому количеству групп пользователей, но ему может быть присвоена только одна роль. Например, если вы хотите, чтобы один из Корректоров также являлся редактором документа поддержки, вам придется создать другого пользователя для входа в систему и назначить этого пользователя группе пользователей поддержки.

Помните, что Роли определяют, что именно ЧТО пользователь может сделать. Пользовательские группы назначают ДОКУМЕНТАМ, с которыми пользователь может работать, но он может выполнять только то, что ему позволит РОЛЬ.

## Связь между группами пользователей и группами документов

Теперь нужно связать группы пользователей и группы документов, к которым мы хотим дать им доступ.

Например, группа пользователей "Корректоры" будет подключена ко всем группам документов, поскольку их работа будет заключаться в исправлении ошибок в документах. Группа пользователей "Маркетинг" должна иметь доступ к группам "Корпоративные" и "Поддержка". И, конечно, группа пользователей "Продукты" должна быть подключена к группе документов "Продукты".

При создании документа он должен быть привязан к соответствующей "группе" документов. Аналогично поступаем и с пользователями - по мере создания им назначаются определенные роли. Затем пользователи добавляются в соответствующие группы пользователей. Только пользователи из групп, подключенных к соотв. группе документов данного документа, могут иметь доступ к этому документу. И при этом, несмотря на то, что пользователь имеет доступ к документу, он может делать с ним только то, что позволяет его индивидуальная роль.

Таким образом, система ролей, пользователей и групп документов позволяет осуществлять достаточно тонкое разделение прав между пользователями и разделами сайта.