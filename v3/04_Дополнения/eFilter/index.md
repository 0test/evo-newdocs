# eFilter

Пакет для генерации фильтра и блока сортировки товаров

Автор: [webber12](https://github.com/webber12)

Пакет состоит из компонентов:

- [eFilter](./01_Сниппет_eFilter.md) (сниппет) - вывод формы для фильтрации
- [eFilterResult](./02_Сниппет_eFilterResult.md) (сниппет) - вывод списка товаров (упаковка для DocLister)
- [eLists](./06_Модуль_eLists.md) (модуль) - формирование списков значений ТВ (чтобы не захламлять дерево и визуально понятно их редактировать)
- [evoSortBlock](./04_Сниппет_evoSortBlock.md) (сниппет) - вывод блока с формой сортировки, а также выбора количества товаров на странице
- [eFilter](./05_Модуль_eFilter.md) (модуль) - удобная настройка формы для фильтрации
- [js API](./03_js_api.md) - работа через JS

## Установка

После установки необходимо:

1. зайти в настройки модуля `eLists` и настроить следующие параметры:
   - ID шаблонов товара
   - ID категории параметров
   - Список шаблонов категорий
2. В `tv` параметре `tovarparams` выбрать шаблоны категорий товаров.
3. Зайти в модуль `eFilter` и для категорий настроить параметры фильтрации.
4. В шаблоне вывести сниппет `eFilter` и `eFilterResult` и плейсхолдер `eFilter_form`

Минимальный вызов:

```
[!eFilter!]
[+eFilter_form+]
[+eFilter_form_delete+]
[[eFilterResult]]
```

## Примеры

### Пример 1

Если нужно вывести форму фильтра на главной а товары находятся в каталоге `[!eFilter? &docid='32'!]` где 32 это id ресурса каталога

### Пример 2

Если для главной нужно задать свою конфигурацию необходимо создать в модуле `eFilter` конфигурацию, а затем добавить параметр `tv_config`

```
[!eFilter?
    &docid=`32`
    &tv_config=`[*tovarparams*]`
!]
```
