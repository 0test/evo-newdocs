# Переменная шаблона

Все параметры задаются в конфигурационном файле в папке `configs` с тем же именем, как и переменная шаблона в виде PHP-массива `.config.inc.php` или JSON файла `.config.json` (файл JSON имеет приоритет перед PHP-массивом).

## Параметр display

Отображение полей ввода настраивается с помощью параметра `display`

- `horizontal` - горизонтальное расположение (пример `event.config.inc.php`)
- `vertical` - вертикальное расположение (пример `images.config.inc.php`)
- `single` - содержит только один элемент
- `datatable` - пример `links.config.inc.php` или `multicontent.config.inc.php`
- `dbtable` - пример `dbtabledemo.config.json`

## Параметр fields

Поля ввода одного элемента списка определяются в параметре `fields`
Эта переменная содержит массив имен полей и каждое имя поля содержит массив свойств поля.

| Поле       | Описание                                                                              | Умолч. |
| ---------- | ------------------------------------------------------------------------------------- | ------ |
| `caption`  | Заголовок (при `horizontal`) или лейбл (при `vertical`) для поля ввода                |        |
| `type`     | Тип поля ввода                                                                        | `text` |
| `elements` | Для ввода возможных значений переменной                                               |        |
| `default`  | Значение по умолчанию                                                                 |        |
| `thumbof`  | Имя переменной для миниатюры изоображения. Миниатюра будет отображена в этой области. |        |
| `width`    | Ширина поля ввода (только если тип отображения полей `horizontal`)                    | `100`  |

В параметре `type` используются все типы ввода MODX кроме url, добавлен thumb для отображения эскизов изображений.

В параметре `elements`, например, для выпадающего списка всех дочерних документов корневой папки сайта: `@SELECT pagetitle, id FROM modx_site_content WHERE parent = 0 ORDER BY menuindex ASC`.

В параметре `default` может содержать вычисления. Может содержать два плэйсхолдера: `[+i+]` - автоматически увеличивающийся индекс, `[+alias+]` - псевдоним редактируемого документа.

_Поддерживаемые типы полей:_ `text`, `rawtext`, `email`, `number`, `textareamini`, `textarea`, `rawtextarea`, `htmlarea`, `richtext` (срабатывает только при `display` vertical), `date`, `dropdown`, `listbox`, `listbox-multiple`, `checkbox`, `option`, `image`, `file`, `color`.

## Параметр columns

В режимах `datatable` и `dbtable` могут быть определены в качестве ключа параметры columns. Этот ключ содержит массив параметров столбцов. Каждый столбец содержит массив свойств. Если свойство не задано, в качестве ключа используется `fields`.

| Свойство    | Описание                       | Умолч.                       |
| ----------- | ------------------------------ | ---------------------------- |
| `fieldname` | Имя свойства **обязательно**   |                              |
| `caption`   | Заголовок столбца              | `caption` параметра `fields` |
| `width`     | Ширина столбца                 | `width` параметра `fields`   |
| `render`    | Разрешить рендер колонки (PHx) |                              |
| `sortable`  | Доступна сортировка            | `true`                       |

Параметр `sortable` - активно только при отключенной сортировке в других опциях. Включить сортировку по этой колонке, нажав на `Заголовок столбца` в `datatable` или `dbtable` режиме.

## Редактирование слоев

В режимах `datatable` и `dbtable` редактирование содержимого слоя может быть определено в ключе `form`. Этот ключ содержит массив параметров вкладки `form`.

| Свойство  | Описание                                              | Умолч.                       |
| --------- | ----------------------------------------------------- | ---------------------------- |
| `caption` | Заголовок вкладки form **обязательно**                |                              |
| `content` | Ассоциативный массив параметров полей **обязательно** | `caption` параметра `fields` |

Each form tab setting contains an associative array of field properties (the key contains the fieldname in `fields`). If a field property is not set, the field property in `fields` is used.

| Свойство  | Описание              | Умолч.                       |
| --------- | --------------------- | ---------------------------- |
| `caption` | Заголовок для `input` | `caption` параметра `fields` |

## Шаблоны по умолчанию

Шаблоны для сниппета `multiTV` используемые по умолчанию, могут быть определены в параметре `templates`

| Свойство   | Описание                                                           | Умолч. |
| ---------- | ------------------------------------------------------------------ | ------ |
| `rowTpl`   | Шаблон вывода строки. Может быть изменен в вызове сниппета         |        |
| `outerTpl` | Шаблон вывода внешнего блока. Может быть изменен в вызове сниппета |        |

## Другие опции

Другие опции могут быть определены в параметре `configuration`

| Свойство       | Описание                                                                                                                                                                   | Умолч.  |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- |
| `enablePaste`  | multiTV может содержать ссылку для вставки данных. В этом окне вы могли бы вставить Word/HTML таблицы данных из буфера обмена, Google Docs таблицы и данные в формате csv. | `true`  |
| `enableClear`  | Ссылка на удаление всех элементов multiTV                                                                                                                                  | `true`  |
| `csvseparator` | Разделитель столбцов при вставке данных csv. Каждая строка должна начинаться с новой строки.                                                                               | `,`     |
| `radioTabs`    | Tabs in the datatable editing layer are displayed as radio buttons. The button state is saved in fieldTab key of each multiTV row.                                         | `false` |
| `sorting`      | Включить сортировку по щелчку на заголовке столбца в datatable или dbtable режиме.                                                                                         | `false` |
| `hideHeader`   | Скрыть заголовок в datatable или dbtable режиме.                                                                                                                           | `,`     |
| `prepare`      | Функция для обработки данных перед выводом (вызывается для каждого элемента списка)                                                                                        | -       |
| `prepareWrap`  | Функция для обработки данных перед выводом обертки                                                                                                                         | -       |

Смотрите файл конфигурации для TV-параметра `multidemo` для всех используемых вертикальных настроек и `multicontent` для всех используемых datatable настроек.
