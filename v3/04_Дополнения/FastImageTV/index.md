# FastImageTV

**Важно!** Для работы необходимо наличие `DocLister`.

Автор: [Pathologic](https://github.com/Pathologic/)

Скачать можно здесь: [FastImageTV](https://github.com/Pathologic/FastImageTV).

Аналог Revo-компонента FastUploadTV. Позволяет добавлять картинки в TV-параметры без вызова файлового менеджера.

Сохранена полная совместимость с обычным `TV` типа `image`.

Компонент состоит из custom TV и плагина.

Особенности таковы:

- картинки загружаются с помощью ajax в указанные в настройках папки, перетаскивание тоже работает, и поддерживается транслитерация;
- в именах папок и файлов можно использовать плейсхолдеры (id менеджера, части даты, id документа, id родителя документа, случайная последовательность);
- для каждого TV можно задать свои настройки или переопределить настройки по умолчанию;
- ненужные картинки удаляются при сохранении документа;
- можно настроить преобразование картинок как на сервере, так и на клиенте;
- можно нарезать превьюшки при загрузке.

Настройки по умолчанию хранятся в файле `assets/tvs/FastImage/config/default.php`, там же их описание.

Для каждого TV в этой папке можно создать свой файл `tvname.php` с настройками. Сначала всегда загружаются настройки из `default.php`, то есть в параметрах TV не обязательно указывать те настройки, которые не отличаются от настроек по умолчанию.

При использовании плейсхолдера `[+id+]` для новых документов могут создаваться временные файлы, которые удалит плагин через заданное время.

Есть и ложка дегтя — платой за удобство может стать дополнительный расход дискового пространства за счет того, что пользователи будут загружать один и тот же файл в разные параметры/документы. Я исходил из своего опыта, что в типичных случаях (новости, товары, статьи) одинаковые картинки используются редко, значит можно такой случай не рассматривать, чтобы все не усложнять еще больше, чем получилось. Заказчик _ilarion_ к однозначному выводу также не пришел, поэтому этот вопрос решили вынести на суд общественности.

Разработку оплатил и разрешил поделиться с сообществом пользователь _ilarion_, за что ему спасибо. Также спасибо пользователю _EGO_, который до публикации этого топика наткнулся на компонент на гитхабе и прислал по этому случаю донат (:
