# Commerce

Программный комплекс для создания интернет-магазина на базе Evolution CMS.

Автор: [mnoskov](https://github.com/evocms-community/commerce)

> Внимание: компонент использует `DocLister` и `FormLister`. Убедитесь в том, что они также установлены.

## Что для чего?

После установки вы увидите несколько установленных дополнений. Давайте разберёмся, какое из них за что отвечает.

- Плагин `Commerce` - это основной плагин необходимый для работы всего дополнения. Обратите внимание, что в разделе "Конфигурация" плагин имеет множество настроек;
- `Модуль управления заказами (Commerce)` - модуль внутри админ-панели (Модули -> Commerce). Нужен для отслеживания заказов, их статусов и просмотра подробностей о каждом конкретном заказе;
- Сниппеты `Cart`, `Comparison`, `Wishlist` - вывод корзины, списков сравнения и избранного;
- Сниппет `Order` - вывод формы заказа;
- Сниппет `PriceConvert` - для вывода цены в нужной валюте;
- Сниппет `PriceFormat` - для вывода цены, отформатированной в соответствии с настройками и в нужной валюте;
- Сниппет `CurrencySelect` - вывод элемента выбора валюты.

## Содержание

- [Настройки](./01_Настройки.md)
- [Корзина заказов](./02_Корзина_заказов.md)
- [Разметка товара](./03_Разметка_товара.md)
- [Платёжные плагины](./04_Платежные_плагины.md)
- [Оформление заказа](./05_Оформление_заказа.md)
- [Модуль Магазин](./07_Модуль_Магазин.md)
- [Страница Спасибо](./08_Страница_Спасибо.md)
- [Серверные события](./10_Серверные_события.md)
- [Клиентские события](./20_Клиентские_события.md)
- [Серверный API](./30_Серверный_API.md)
- [JS API](./34_JSAPI.md)
- [Примеры](./99_Примеры/index.md)

## Принципы работы

### Покупка

Чтобы ресурс воспринимался плагином как товар, его вёрстка должна быть соответствующим образом модифицирована - нужно добавить в разметку необходимые плагину атрибуты. Подробнее о разметке товара смотрите в материале "Разметка товара".

Для вывода корзины используется сниппет `Cart`.

**Совет:** в отличие от `Shopkeeper`, вы не ограничены только одной корзиной на каждой странице. Можно вызывать сниппет Cart столько раз, сколько необходимо вам для реализации нужного функционала. Также корзины может вообще не быть на странице, это не помешает добавлять в нее товары.

Сниппет `Cart` имеет массу параметров для выбора необходимого внешнего вида. Вы можете как создать небольшую корзину с количеством товаров и общей суммой заказа, так и огромную таблицу с параметрами, удалением, любыми ТВ-параметрами товара.

Подробнее о разметке корзины смотрите в материале "Корзина заказов".

### Страница корзины

Отдельная страница корзины ничем не отличается от любой другой страницы сайта, за исключением вызова сниппета `Cart`, в параметрах которого нужно указать необходимые вам шаблоны для отображения полной корзины.

### Оформление заказа

Заказ оформляется при помощи сниппета `Order`. Этот сниппет возвращает форму с полями ввода, после заполнения которых заказ будет сформирован и отправлен в базу данных.

Как правило, на этой же странице располагается вывод всех плагинов, влияющих на доставку и оплату.

Подробнее о шаблонизации и настройке сниппета Order смотрите на странице "Оформление заказа".

### Просмотр заказов

После отправки заказы отображаются в модуле "Магазин". Описание возможностей модуля и принципы его доработки смотрите в разделе "Модуль магазин".
